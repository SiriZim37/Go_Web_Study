(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{113:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAC0BAMAAADP4xsBAAAAMFBMVEVMaXGZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZkY2KmZmZn///+UJOIGAAAADXRSTlMAv9pA71oQgJsgMK9wm2qt1QAAAp9JREFUeF7t1k9rE2EUxeGTDGn+VGpcuStu7EJkCFRcBqFQdRNSFy5LwEp3Eje6K9mKEELpoqsS3OhCJJ+gBFy46zcoNG2K0cLBLyCVzpv2knamQu47oHCfD/DLMJmZ8+LfYIwxxhhjjDHGGGOMCd7WMam4+BBezLKPCesheRc+zLELAeRqJHkPOkETwOrhxwYEVnlm2IVGLiwDaI+qTzq4UKKzDIWXIc/S4XGVI7nGLJ2RorxeI5tAiQeb5KAi92Osg2lt1zh8A+AGe1ghD+tw2hzrY0ql81qG/eh3TuCEHOthSgHZwplX7ADY5AAOz5U1V/0c0bMH4BN54iEt/+LwXfTsASvkoA4nVKXlfW4CtSN8IE8qGNvlWFP1xrCMEh+hylEHVx6+LjTt+TIKbKH6uIErr8xA/Q3Jso7PDYgcnafQChalO3FH6vBLPqpLSMM2Sbn7fr349hXpMObmabxfHtL78Vx69pZTQbx8a+r0DTp3EG+nO2VahuY74t3G9OkqI8MO4uQWFOkCnRbirFUU6WKNkSPEeQ9FGhuMHCJGsKxKZ685m2X7qnRwzUH4NVRp7CYehIs/lemdxLNIpqlM5xMPZ88ayvRMyMgxLplZgioth5FhA5MKPXU6k3CmfNBAotO/ivolOj8w6T6S/d4X1116O/ZQmS97SK/Rqcd8qpXpnOwB5nihqU8n74E+LXvgOy170POfnpE98J3GnuyB57Tsgfe07IH/tOyB//QWnYr3tOyB97Tsgf+07IHvtOxBy3+6eGkPNAMjXH9D9kB5wcl74Dste7DgP4152QPf6S90Ot7Tsgfe07IH/tPYY4wDL+lseukgvTR200tvpZfOp5dGmF66ml46k166OB+T1k3Bf8sYY4wxxhhjjDHmD3G98ciCYzPLAAAAAElFTkSuQmCC"},210:function(e,a,t){e.exports=t(413)},413:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(17),l=t.n(c),i=t(19),o=t.n(i),u=t(8),s=t(51),m=t(54),p=t(37),d=t(180),E=t(152),b=t(181),f=t(6),g=t(9),O=t.n(g),v=t(15),h=t(33),j="app/auth/LOGOUT";function y(e){e?localStorage.setItem("accessToken",e):localStorage.removeItem("accessToken")}function C(e){e?o.a.defaults.headers.common.Authorization="Bearer ".concat(e):delete o.a.defaults.headers.common.Authorization}var S={isLoading:!1,isProfileLoaded:!1,accessToken:null,user:null},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"app/auth/LOAD_TOKEN":return Object(f.a)(Object(f.a)({},e),{},{accessToken:a.payload.token});case"app/auth/SIGNIN_REQUEST":case"app/auth/LOAD_PROFILE_REQUEST":case"app/auth/UPDATE_PROFILE_REQUEST":return Object(f.a)(Object(f.a)({},e),{},{isLoading:!0});case"app/auth/LOAD_PROFILE_SUCCESS":case"app/auth/UPDATE_PROFILE_SUCCESS":return Object(f.a)(Object(f.a)({},e),{},{user:a.payload.user,isLoading:!1,isProfileLoaded:!0});case"app/auth/SIGNIN_SUCCESS":return Object(f.a)(Object(f.a)({},e),{},{accessToken:a.payload.accessToken,isLoading:!1});case j:return Object(f.a)(Object(f.a)({},e),{},{accessToken:null,user:null});case"app/auth/LOAD_PROFILE_FAILURE":case"app/auth/UPDATE_PROFILE_FAILURE":return Object(f.a)(Object(f.a)({},e),{},{user:null,isLoading:!1});case"app/auth/SIGNIN_FAILURE":return Object(f.a)(Object(f.a)({},e),{},{accessToken:null,isLoading:!1});default:return e}};var L={darkMode:!1,drawerOpen:!0,flashMessage:null},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"app/ui/TOGGLE_DARK_MODE":return Object(f.a)(Object(f.a)({},e),{},{darkMode:!e.darkMode});case"app/ui/TOGGLE_DRAWER":return Object(f.a)(Object(f.a)({},e),{},{drawerOpen:!e.drawerOpen});case"app/ui/SET_DARK_MODE":return Object(f.a)(Object(f.a)({},e),{},{darkMode:a.payload.darkMode});case"app/ui/SET_FLASH_MESSAGE":return Object(f.a)(Object(f.a)({},e),{},{flashMessage:a.payload.message});case"app/ui/CLEAR_FLASH_MESSAGE":return Object(f.a)(Object(f.a)({},e),{},{flashMessage:null});default:return e}};function x(e){return function(){var a=Object(v.a)(O.a.mark((function a(t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"app/articles/LOAD_ARTICLES_REQUEST"}),a.prev=1,a.next=4,o.a.get("/articles".concat(e));case 4:n=a.sent,r=n.data.articles,t({type:"app/articles/LOAD_ARTICLES_SUCCESS",payload:r}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),t({type:"app/articles/LOAD_ARTICLES_FAILURE"});case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}function R(e){return function(){var a=Object(v.a)(O.a.mark((function a(t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"app/articles/LOAD_ARTICLE_REQUEST"}),a.prev=1,a.next=4,o.a.get("/articles/".concat(e));case 4:n=a.sent,r=n.data.article,t({type:"app/articles/LOAD_ARTICLE_SUCCESS",payload:{article:r}}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),t({type:"app/articles/LOAD_ARTICLE_FAILURE"});case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}var _={isLoading:!1,items:[],paging:null},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"app/articles/LOAD_ARTICLES_REQUEST":case"app/articles/LOAD_ARTICLE_REQUEST":return Object(f.a)(Object(f.a)({},e),{},{isLoading:!0,items:[]});case"app/articles/LOAD_ARTICLES_SUCCESS":return Object(f.a)(Object(f.a)({},e),{},{isLoading:!1},a.payload);case"app/articles/LOAD_ARTICLE_SUCCESS":return Object(f.a)(Object(f.a)({},e),{},{isLoading:!1,items:[a.payload.article]});case"app/articles/DELETE_ARTICLE_SUCCESS":return Object(f.a)(Object(f.a)({},e),{},{isLoading:!1,items:e.items.filter((function(e){return e.id!==a.payload.id}))});case"app/articles/LOAD_ARTICLES_FAILURE":case"app/articles/LOAD_ARTICLE_FAILURE":return Object(f.a)(Object(f.a)({},e),{},{isLoading:!1,items:[],paging:null});default:return e}};function k(){return function(){var e=Object(v.a)(O.a.mark((function e(a){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"app/categories/LOAD_CATEGORIES_REQUEST"}),e.prev=1,e.next=4,o.a.get("/categories");case 4:t=e.sent,n=t.data.categories,a({type:"app/categories/LOAD_CATEGORIES_SUCCESS",payload:{categories:n}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),a({type:"app/categories/LOAD_CATEGORIES_FAILURE"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}()}function U(e){return function(){var a=Object(v.a)(O.a.mark((function a(t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"app/categories/LOAD_CATEGORY_REQUEST"}),a.prev=1,a.next=4,o.a.get("/categories/".concat(e));case 4:n=a.sent,r=n.data.category,t({type:"app/categories/LOAD_CATEGORY_SUCCESS",payload:{category:r}}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),t({type:"app/categories/LOAD_CATEGORY_FAILURE"});case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}var I={isLoading:!1,items:[]},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"app/categories/LOAD_CATEGORIES_REQUEST":case"app/categories/LOAD_CATEGORY_REQUEST":return Object(f.a)(Object(f.a)({},e),{},{isLoading:!0,items:[]});case"app/categories/LOAD_CATEGORIES_SUCCESS":return Object(f.a)(Object(f.a)({},e),{},{isLoading:!1,items:a.payload.categories});case"app/categories/LOAD_CATEGORY_SUCCESS":return Object(f.a)(Object(f.a)({},e),{},{isLoading:!1,items:[a.payload.category]});case"app/categories/DELETE_CATEGORY_SUCCESS":return Object(f.a)(Object(f.a)({},e),{},{isLoading:!1,items:e.items.filter((function(e){return e.id!==a.payload.id}))});case"app/categories/LOAD_CATEGORIES_FAILURE":case"app/categories/LOAD_CATEGORY_FAILURE":return Object(f.a)(Object(f.a)({},e),{},{isLoading:!1,items:[],paging:null});default:return e}};function N(e){return function(){var a=Object(v.a)(O.a.mark((function a(t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"app/users/LOAD_USER_REQUEST"}),a.prev=1,a.next=4,o.a.get("/users/".concat(e));case 4:n=a.sent,r=n.data.user,t({type:"app/users/LOAD_USER_SUCCESS",payload:{user:r}}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),t({type:"app/users/LOAD_USER_FAILURE"});case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}var F={isLoading:!1,items:[],paging:null},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"app/users/LOAD_USERS_REQUEST":case"app/users/LOAD_USER_REQUEST":return Object(f.a)(Object(f.a)({},e),{},{isLoading:!0,items:[]});case"app/users/LOAD_USERS_SUCCESS":return Object(f.a)(Object(f.a)({},e),{},{isLoading:!1},a.payload);case"app/users/LOAD_USER_SUCCESS":return Object(f.a)(Object(f.a)({},e),{},{isLoading:!1,items:[a.payload.user]});case"app/users/DELETE_USER_SUCCESS":return Object(f.a)(Object(f.a)({},e),{},{isLoading:!1,items:e.items.filter((function(e){return e.id!==a.payload.id}))});case"app/users/LOAD_USERS_FAILURE":case"app/users/LOAD_USER_FAILURE":return Object(f.a)(Object(f.a)({},e),{},{isLoading:!1,items:[],paging:null});default:return e}},P=Object(p.a)();var B=function(e){var a,t=[b.a,Object(E.a)(P)];return Object(m.createStore)((a=P,Object(m.combineReducers)({router:Object(s.b)(a),auth:A,ui:T,articles:w,categories:D,users:G})),e,Object(d.composeWithDevTools)(m.applyMiddleware.apply(void 0,t)))},M=t(21),Q=t(35),W=t(11),q=t(455),Z=t(456),V=t(69),Y=t(137),z=t(501),K=t(450),H=t(510),X=t(460),J=t(512),$=t(503),ee=t(463),ae=t(502),te=t(448),ne=t(457),re=t(65),ce=t.n(re),le=t(451),ie=t(452),oe=t(453),ue=t(454),se=t(508),me=t(509),pe=Object(te.a)((function(e){return{media:{height:200},category:{margin:e.spacing(2,0)}}}));function de(e){var a=e.id,t=e.title,n=e.excerpt,c=e.image,l=e.category,i=e.user,o=pe(),u=Object(M.g)(),s=Object(M.j)().path;return r.a.createElement(K.a,{item:!0,xs:12,sm:6,lg:4},r.a.createElement(le.a,{onClick:function(){return u.push("".concat(s,"/").concat(a))}},r.a.createElement(ie.a,null,r.a.createElement(oe.a,{image:c,title:t,className:o.media}),r.a.createElement(ue.a,null,r.a.createElement(V.a,{gutterBottom:!0,variant:"h5",component:"h2"},t),r.a.createElement(K.a,{container:!0,alignItems:"center",justify:"space-between",className:o.category},r.a.createElement(se.a,{label:l.name,size:"small"})),r.a.createElement(V.a,{gutterBottom:!0,variant:"body2",color:"textSecondary",component:"p"},n),r.a.createElement(z.a,{display:"flex",alignItems:"center",mt:2},r.a.createElement(me.a,{alt:i.name,src:i.avatar}),r.a.createElement(z.a,{ml:2},i.name))))))}var Ee=Object(te.a)((function(e){return{title:{textAlign:"center",marginBottom:e.spacing(2)},progress:{textAlign:"center"},category:{minWidth:120}}}));function be(){var e=Ee(),a=Object(M.g)(),t=Object(M.j)().path,c=Object(u.d)(),l=Object(u.e)((function(e){return e.articles})),i=l.isLoading,o=l.items,s=l.paging,m=Object(u.e)((function(e){return e.categories})).items,p=Object(M.h)().search,d=Object(n.useState)(ce.a.parse(p)),E=Object(W.a)(d,2),b=E[0],g=E[1],O=Object(n.useState)(b.term||""),v=Object(W.a)(O,2),h=v[0],j=v[1],y=Object(n.useCallback)((function(e){var a=e.target.value;if(0!==a)return g(Object(f.a)(Object(f.a)({},b),{},{categoryId:a}));b.categoryId;var t=Object(Q.a)(b,["categoryId"]);g(t)}),[b]),C=Object(n.useCallback)((function(e){return j(e.target.value)}),[]),S=Object(q.a)((function(){if(""!==h.trim())return g(Object(f.a)(Object(f.a)({},b),{},{term:h}));b.term;var e=Object(Q.a)(b,["term"]);g(e)}),1e3),A=Object(W.a)(S,1)[0],L=Object(n.useCallback)((function(e,a){if(a>1)return g(Object(f.a)(Object(f.a)({},b),{},{page:a}));b.page;var t=Object(Q.a)(b,["page"]);g(t)}),[b]);return Object(n.useEffect)((function(){c(x(p)),c(k())}),[c,p]),Object(n.useEffect)((function(){return a.push("".concat(t,"?").concat(ce.a.stringify(b)))}),[a,t,b]),r.a.createElement(r.a.Fragment,null,i?r.a.createElement("div",{className:e.progress},r.a.createElement(Z.a,{color:"secondary"})):r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{variant:"h4",component:"h1",className:e.title},"Articles"),r.a.createElement(Y.a,null,r.a.createElement(z.a,{display:"flex",justifyContent:"space-between",alignItems:"center",p:2,mb:2},r.a.createElement(K.a,{container:!0,spacing:2,alignItems:"flex-end"},r.a.createElement(K.a,{item:!0},r.a.createElement(ne.a,null)),r.a.createElement(K.a,{item:!0},r.a.createElement(H.a,{label:"Search",value:h,onChange:C,onKeyUp:A}))),r.a.createElement(X.a,{className:e.category},r.a.createElement(J.a,null,"Category"),r.a.createElement($.a,{value:b.categoryId||0,onChange:y},r.a.createElement(ee.a,{value:0},"All"),m.map((function(e){var a=e.id,t=e.name;return r.a.createElement(ee.a,{key:a,value:a},t)})))))),r.a.createElement(K.a,{container:!0,spacing:2},o.map((function(e){return r.a.createElement(de,Object.assign({key:e.id},e))}))),r.a.createElement(z.a,{display:"flex",justifyContent:"center",p:2},r.a.createElement(ae.a,{count:null===s||void 0===s?void 0:s.totalPage,defaultPage:null===s||void 0===s?void 0:s.page,variant:"outlined",color:"primary",onChange:L}))))}var fe=t(464),ge=Object(te.a)((function(e){return{title:{marginLeft:e.spacing(2)}}}));function Oe(){var e,a,t=ge(),c=Object(u.d)(),l=Object(M.i)().id,i=Object(u.e)((function(e){return e.articles})),o=i.isLoading,s=Object(W.a)(i.items,1)[0];return Object(n.useEffect)((function(){c(R(l))}),[c,l]),o?null:r.a.createElement(fe.a,{maxWidth:"md"},r.a.createElement(z.a,{display:"flex",alignItems:"center"},r.a.createElement(me.a,{src:null===s||void 0===s||null===(e=s.user)||void 0===e?void 0:e.avatar}),r.a.createElement("div",{className:t.title},r.a.createElement(V.a,{variant:"h6",component:"h1"},null===s||void 0===s?void 0:s.title),r.a.createElement(V.a,{variant:"body1"},null===s||void 0===s||null===(a=s.user)||void 0===a?void 0:a.name))),r.a.createElement("p",{dangerouslySetInnerHTML:{__html:null===s||void 0===s?void 0:s.body}}))}var ve=function(){var e=Object(M.j)().path;return r.a.createElement(M.d,null,r.a.createElement(M.b,{path:"".concat(e,"/:id")},r.a.createElement(Oe,null)),r.a.createElement(M.b,{path:e},r.a.createElement(be,null)))},he=t(30),je=t(22),ye=t(45),Ce=t(465),Se=t(416),Ae=Object(te.a)((function(e){return{preview:{width:"100%"},placeholder:{flex:1,backgroundColor:e.palette.grey[600]},input:{display:"none"},button:{width:"100%",marginTop:e.spacing(2)}}}));var Le=function(e){var a,t=e.name,c=e.image,l=e.alt,i=e.buttonText,o=e.innerRef,u=Ae(),s=Object(n.useRef)(null),m=Object(n.useCallback)((function(e){var a,t=e.target;if(null===t||void 0===t||null===(a=t.files)||void 0===a?void 0:a[0]){var n=new FileReader;n.onload=function(e){return s.current.src=e.target.result},n.readAsDataURL(t.files[0])}}),[]);return r.a.createElement(z.a,{display:"flex",flexDirection:"column",height:"100%"},r.a.createElement("img",{src:c,alt:l,ref:s,className:u.preview}),!(null===(a=s.current)||void 0===a?void 0:a.src)&&r.a.createElement("div",{className:u.placeholder}),r.a.createElement("input",{name:t,ref:o,accept:"image/*",className:u.input,id:"uploader",type:"file",onChange:m}),r.a.createElement("label",{htmlFor:"uploader"},r.a.createElement(Se.a,{variant:"contained",color:"primary",component:"span",className:u.button},i)))},Te=Object(te.a)((function(e){return{root:{padding:e.spacing(2)},title:{marginBottom:e.spacing(2)},form:{"& > * + *":{marginTop:e.spacing(2)}},submitBtn:{display:"block",marginLeft:"auto"}}}));function xe(){var e,a,t,c=Te(),l=Object(u.d)(),i=Object(u.e)((function(e){return e.auth})),s=i.user,m=i.isLoading,p=Object(he.d)({mode:"onChange",resolver:Object(ye.a)(je.c().shape({name:je.d(),email:je.d().email().required(),password:je.d().min(8).transform((function(e){return""===e?void 0:e}))}))}),d=p.register,E=p.handleSubmit,b=p.setValue,f=p.errors,g=p.formState,h=g.isDirty,j=g.isValid,y=Object(n.useCallback)((function(e){var a={};e.name!==s.name&&(a.name=e.name),e.email!==s.email&&(a.email=e.email),e.password&&(a.password=e.password),1===e.avatar.length&&(a.avatar=e.avatar[0]),l(function(e){return function(){var a=Object(v.a)(O.a.mark((function a(t){var n,r,c,l;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(r in t({type:"app/auth/UPDATE_PROFILE_REQUEST"}),a.prev=1,n=new FormData,e)n.append(r,e[r]);return a.next=6,o.a.patch("/auth/profile",n,{headers:{"Content-Type":"multipart/form-data"}});case 6:c=a.sent,l=c.data.user,t({type:"app/auth/UPDATE_PROFILE_SUCCESS",payload:{user:l}}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),t({type:"app/auth/UPDATE_PROFILE_FAILURE"});case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e){return a.apply(this,arguments)}}()}(a))}),[l,s]);return Object(n.useEffect)((function(){s&&(b("name",s.name),b("email",s.email))}),[b,s]),r.a.createElement(fe.a,{maxWidth:"sm"},m&&r.a.createElement(Ce.a,null),r.a.createElement(Y.a,{className:c.root},r.a.createElement(V.a,{variant:"h4",align:"center",component:"h1",className:c.title},"Profile"),r.a.createElement("form",{onSubmit:E(y)},r.a.createElement(K.a,{container:!0,spacing:2},r.a.createElement(K.a,{item:!0,xs:4},r.a.createElement(Le,{name:"avatar",innerRef:d,image:null===s||void 0===s?void 0:s.avatar,alt:null===s||void 0===s?void 0:s.name,buttonText:"Change Avatar"})),r.a.createElement(K.a,{item:!0,xs:8},r.a.createElement("div",{className:c.form},r.a.createElement(H.a,{inputRef:d,variant:"outlined",label:"Name",placeholder:"Enter your name",name:"name",fullWidth:!0,helperText:(null===(e=f.name)||void 0===e?void 0:e.message)||"",error:Boolean(f.name)}),r.a.createElement(H.a,{inputRef:d,variant:"outlined",label:"Email",placeholder:"Enter your email",name:"email",fullWidth:!0,helperText:(null===(a=f.email)||void 0===a?void 0:a.message)||"",error:Boolean(f.email)}),r.a.createElement(H.a,{type:"password",inputRef:d,variant:"outlined",label:"Password",placeholder:"Enter your password",name:"password",fullWidth:!0,helperText:(null===(t=f.password)||void 0===t?void 0:t.message)||"",error:Boolean(f.password)}),r.a.createElement(Se.a,{type:"submit",variant:"contained",color:"primary",className:c.submitBtn,disabled:!j||!h},"Update")))))))}var Re=t(12),_e=Object(te.a)((function(e){return{root:{padding:e.spacing(2)},form:{"& > *":{marginTop:e.spacing(2)}}}}));function we(e){var a,t,n=e.title,c=e.submitText,l=e.onSubmit,i=e.altLink,o=e.altText,u=_e(),s=Object(he.d)({mode:"onChange",resolver:Object(ye.a)(je.c().shape({email:je.d().email().required(),password:je.d().min(8).required()}))}),m=s.register,p=s.handleSubmit,d=s.errors,E=s.formState,b=E.isDirty,f=E.isValid;return r.a.createElement(fe.a,{maxWidth:"sm"},r.a.createElement(Y.a,{className:u.root},r.a.createElement(V.a,{variant:"h4",component:"h1"},r.a.createElement(z.a,{textAlign:"center"},n)),r.a.createElement("form",{onSubmit:p(l),className:u.form},r.a.createElement(H.a,{inputRef:m,variant:"outlined",label:"Email",placeholder:"Enter your email",name:"email",fullWidth:!0,helperText:(null===(a=d.email)||void 0===a?void 0:a.message)||"",error:Boolean(d.email)}),r.a.createElement(H.a,{type:"password",inputRef:m,variant:"outlined",label:"Password",placeholder:"Enter your password",name:"password",fullWidth:!0,helperText:(null===(t=d.password)||void 0===t?void 0:t.message)||"",error:Boolean(d.password)}),r.a.createElement(z.a,{display:"flex",justifyContent:"space-between"},r.a.createElement(Se.a,{type:"submit",variant:"contained",color:"primary",disabled:!f||!b},c),r.a.createElement(Se.a,{component:Re.a,to:i},o)))))}function ke(){var e=Object(u.d)();return r.a.createElement(we,{title:"Sign in",submitText:"sign in",altText:"Don't have an account?",altLink:"/auth/sign-up",onSubmit:function(a){return e(function(e){return function(){var a=Object(v.a)(O.a.mark((function a(t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"app/auth/SIGNIN_REQUEST"}),a.prev=1,a.next=4,o.a.post("/auth/sign-in",e);case 4:n=a.sent,r=n.data.token,t({type:"app/auth/SIGNIN_SUCCESS",payload:{accessToken:r}}),y(r),C(r),t(Object(h.d)("/")),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(1),t({type:"app/auth/SIGNIN_FAILURE"});case 15:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(e){return a.apply(this,arguments)}}()}(a))}})}function Ue(){var e=Object(u.d)();return r.a.createElement(we,{title:"Sign up",submitText:"Register",altText:"Already have an account?",altLink:"/auth/sign-in",onSubmit:function(a){return e(function(e){return function(){var a=Object(v.a)(O.a.mark((function a(t){return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"app/auth/SIGNUP_REQUEST"}),a.prev=1,a.next=4,o.a.post("/auth/sign-up",e);case 4:t({type:"app/auth/SIGNUP_SUCCESS"}),t(Object(h.d)("/")),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),t({type:"app/auth/SIGNUP_FAILURE"});case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()}(a))}})}function Ie(){var e=Object(M.j)().path;return r.a.createElement(M.d,null,r.a.createElement(M.b,{path:"".concat(e,"/profile")},r.a.createElement(xe,null)),r.a.createElement(M.b,{path:"".concat(e,"/sign-in")},r.a.createElement(ke,null)),r.a.createElement(M.b,{path:"".concat(e,"/sign-up")},r.a.createElement(Ue,null)))}var De=t(467),Ne=t(469),Fe=t(466),Ge=t(470),Pe=t(468);function Be(e){var a=e.className,t=e.children,c=Object(u.d)(),l=Object(Fe.a)("(prefers-color-scheme: dark)"),i=Object(u.e)((function(e){return e.ui.darkMode}));Object(n.useEffect)((function(){var e=function(e){return{type:"app/ui/SET_DARK_MODE",payload:{darkMode:e}}}(l);c(e)}),[l,c]);var o=Object(De.a)({palette:{type:i?"dark":"light",primary:{main:"#1abc9c"},secondary:{main:Pe.a[500]}}});return r.a.createElement(Ne.a,{theme:o},r.a.createElement(Ge.a,null),r.a.createElement("div",{className:a},t))}var Me=t(475),Qe=t(476),We=t(477),qe=t(113),Ze=t.n(qe),Ve=t(471),Ye=t(472),ze=t(473);function Ke(){var e=Object(u.d)(),a=Object(u.e)((function(e){return e.ui.darkMode}));return r.a.createElement(Ve.a,{onClick:function(){return e({type:"app/ui/TOGGLE_DARK_MODE"})}},a?r.a.createElement(Ye.a,null):r.a.createElement(ze.a,null))}var He=t(191),Xe=t(474),Je=Object(te.a)((function(e){return{root:{cursor:"pointer"},username:{marginLeft:e.spacing(1)}}}));function $e(){var e=Je(),a=Object(M.g)(),t=Object(u.d)(),c=Object(u.e)((function(e){return e.auth})),l=c.isLoading,i=c.accessToken,s=c.user,m=Object(n.useState)(null),p=Object(W.a)(m,2),d=p[0],E=p[1],b=Object(n.useCallback)((function(e){return E(e.currentTarget)}),[]),f=Object(n.useCallback)((function(){return E(null)}),[]),g=Object(n.useCallback)((function(){t((y(null),C(null),{type:j})),f()}),[f,t]),h=Object(n.useCallback)((function(){a.push("/auth/profile"),f()}),[f,a]),S=function(){return r.a.createElement(z.a,{display:"flex",alignItems:"center",className:e.root},r.a.createElement(Xe.a,{variant:"circle",width:40,height:40}),r.a.createElement(Xe.a,{variant:"text",width:100,height:30,className:e.username}))};return Object(n.useEffect)((function(){t(function(){var e=localStorage.getItem("accessToken");return C(e),{type:"app/auth/LOAD_TOKEN",payload:{token:e}}}())}),[t]),Object(n.useEffect)((function(){i&&t(function(){var e=Object(v.a)(O.a.mark((function e(a){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:"app/auth/LOAD_PROFILE_REQUEST"}),e.prev=1,e.next=4,o.a.get("/auth/profile");case 4:t=e.sent,n=t.data.user,a({type:"app/auth/LOAD_PROFILE_SUCCESS",payload:{user:n}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),a({type:"app/auth/LOAD_PROFILE_FAILURE"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}())}),[t,i]),l?r.a.createElement(S,null):s?r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{display:"flex",alignItems:"center",className:e.root,onClick:b},r.a.createElement(me.a,{src:s.avatar}),r.a.createElement(V.a,{variant:"button",className:e.username},s.name||"Member")),r.a.createElement(He.a,{anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:f},r.a.createElement(ee.a,{onClick:h},"Profile"),r.a.createElement(ee.a,{onClick:g},"Logout"))):i?r.a.createElement(S,null):r.a.createElement("div",null,r.a.createElement(Se.a,{color:"inherit",component:Re.a,to:"/auth/sign-in"},"Login"))}var ea=Object(te.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer},logoLink:{marginRight:e.spacing(2)},logoImage:{widht:30,height:30,backgroundColor:"#fff",borderRadius:"50%"},activeLink:{color:e.palette.secondary.main},spacer:{flexGrow:1}}}));function aa(){var e=ea(),a=Object(u.e)((function(e){return e.auth.user}));return r.a.createElement(Me.a,{position:"fixed",className:e.appBar},r.a.createElement(Qe.a,null,r.a.createElement(We.a,{component:Re.b,to:"/",color:"inherit",underline:"none",className:e.logoLink},r.a.createElement("img",{src:Ze.a,alt:"Babel Articles",className:e.logoImage})),1===(null===a||void 0===a?void 0:a.role)&&r.a.createElement(Se.a,{component:Re.b,to:"/admin"},"Admin"),r.a.createElement(Se.a,{component:Re.b,to:"/articles",activeClassName:e.activeLink},"Articles"),r.a.createElement("div",{className:e.spacer}),r.a.createElement(Ke,null),r.a.createElement($e,null)))}var ta=t(506),na=Object(te.a)((function(e){return{content:{padding:e.spacing(2,0)}}}));function ra(e){var a=e.children,t=na(),n=Object(u.d)(),c=Object(u.e)((function(e){return e.ui.flashMessage}));return r.a.createElement("main",{className:t.content},r.a.createElement(fe.a,{maxWidth:"lg"},r.a.createElement(Qe.a,null),a,c&&r.a.createElement(ta.a,{open:!0,message:c,action:r.a.createElement(Se.a,{color:"inherit",size:"small",onClick:function(){return n({type:"app/ui/CLEAR_FLASH_MESSAGE"})}},"Close")})))}function ca(e){var a=e.children;return r.a.createElement(Be,null,r.a.createElement(aa,null),r.a.createElement(ra,null,a))}function la(){return r.a.createElement(ca,null,r.a.createElement(M.d,null,r.a.createElement(M.b,{path:"/auth"},r.a.createElement(Ie,null)),r.a.createElement(M.b,{path:"/articles"},r.a.createElement(ve,null)),r.a.createElement(M.b,{exact:!0,path:"/"},r.a.createElement(M.a,{to:"/articles"})),r.a.createElement(M.b,null,r.a.createElement("div",null,"Page not found"))))}var ia=t(478),oa=Object(te.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1},menuButton:{marginRight:e.spacing(2)},logoLink:{marginRight:e.spacing(2)},logoImage:{widht:30,height:30,backgroundColor:"#fff",borderRadius:"50%"},spacer:{flexGrow:1}}}));function ua(){var e=oa(),a=Object(M.j)().path,t=Object(u.d)();return r.a.createElement(Me.a,{position:"fixed",className:e.appBar},r.a.createElement(Qe.a,null,r.a.createElement(Ve.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:function(){return t({type:"app/ui/TOGGLE_DRAWER"})},className:e.menuButton},r.a.createElement(ia.a,null)),r.a.createElement(We.a,{component:Re.a,to:"/",color:"inherit",underline:"none",className:e.logoLink},r.a.createElement("img",{src:Ze.a,alt:"Babel Articles",className:e.logoImage})),r.a.createElement(Se.a,{component:Re.a,to:a},"Admin"),r.a.createElement("div",{className:e.spacer}),r.a.createElement(Ke,null),r.a.createElement($e,null)))}var sa=t(18),ma=t(3),pa=t(513),da=t(462),Ea=t(415),ba=t(479),fa=t(481),ga=t(480),Oa=t(482),va=t(483),ha=t(484),ja=Object(te.a)((function(e){return{drawer:{width:240,flexShrink:0},drawerExpand:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerCollapse:{transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},drawerContainer:{overflow:"auto"},content:{flexGrow:1,padding:e.spacing(3)}}}));function ya(){var e,a,t=ja(),n=Object(M.j)().path,c=Object(M.h)().pathname,l=Object(u.e)((function(e){return e.ui.drawerOpen})),i=Object(Fe.a)((function(e){return e.breakpoints.up("md")}));return r.a.createElement(pa.a,{variant:"persistent",open:l,className:Object(ma.a)(t.drawer,(e={},Object(sa.a)(e,t.drawerExpand,i),Object(sa.a)(e,t.drawerCollapse,!i),e)),classes:{paper:Object(ma.a)((a={},Object(sa.a)(a,t.drawerExpand,i),Object(sa.a)(a,t.drawerCollapse,!i),a))}},r.a.createElement(Qe.a,null),r.a.createElement("div",{className:t.drawerContainer},r.a.createElement(da.a,null,r.a.createElement(Ea.a,{button:!0,component:Re.a,to:"".concat(n,"/dashboard"),selected:c.startsWith("".concat(n,"/dashboard"))},r.a.createElement(ba.a,null,r.a.createElement(ga.a,null)),r.a.createElement(fa.a,{primary:"Dashboard"})),r.a.createElement(Ea.a,{button:!0,component:Re.a,to:"".concat(n,"/users"),selected:c.startsWith("".concat(n,"/users"))},r.a.createElement(ba.a,null,r.a.createElement(Oa.a,null)),r.a.createElement(fa.a,{primary:"Users"})),r.a.createElement(Ea.a,{button:!0,component:Re.a,to:"".concat(n,"/categories"),selected:c.startsWith("".concat(n,"/categories"))},r.a.createElement(ba.a,null,r.a.createElement(va.a,null)),r.a.createElement(fa.a,{primary:"Categories"})),r.a.createElement(Ea.a,{button:!0,component:Re.a,to:"".concat(n,"/articles"),selected:c.startsWith("".concat(n,"/articles"))},r.a.createElement(ba.a,null,r.a.createElement(ha.a,null)),r.a.createElement(fa.a,{primary:"Articles"})))))}var Ca=t(507),Sa=Object(te.a)((function(e){return{content:Object(sa.a)({flexGrow:1,padding:e.spacing(2),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-(e.spacing(7)+1)},e.breakpoints.up("md"),{marginLeft:-240}),contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0},breadcrumb:{margin:e.spacing(2,0)}}})),Aa={"/admin":"Admin","/admin/dashboard":"Dashboard","/admin/users":"Users","/admin/users/new":"New User","/admin/users/\\d+":"User","/admin/users/\\d+/edit":"Edit User","/admin/categories":"Categories","/admin/categories/new":"New Category","/admin/categories/\\d+":"Category","/admin/categories/\\d+/edit":"Edit Category","/admin/articles":"Articles","/admin/articles/new":"New Article","/admin/articles/\\d+":"Article","/admin/articles/\\d+/edit":"Edit Article"},La=function(e){return r.a.createElement(We.a,Object.assign({},e,{component:Re.a}))};function Ta(e){var a=e.children,t=Object(M.h)().pathname.split("/").filter((function(e){return e})),n=Sa(),c=Object(u.e)((function(e){return e.ui.drawerOpen}));return r.a.createElement("main",{className:Object(ma.a)(n.content,Object(sa.a)({},n.contentShift,c))},r.a.createElement(Qe.a,null),r.a.createElement(Ca.a,{"aria-label":"breadcrumb",className:n.breadcrumb},t.map((function(e,a){var n=a===t.length-1,c="/".concat(t.slice(0,a+1).join("/")),l=Object.entries(Aa).find((function(e){var a=Object(W.a)(e,1)[0];return new RegExp("^".concat(a,"$")).test(c)})),i=Object(W.a)(l,2)[1];return n?r.a.createElement(V.a,{color:"textPrimary",key:c},i):r.a.createElement(La,{color:"inherit",to:c,key:c},i)}))),a)}var xa=Object(te.a)((function(e){return{root:{display:"flex"}}}));function Ra(e){var a=e.children,t=xa();return r.a.createElement(Be,{className:t.root},r.a.createElement(ua,null),r.a.createElement(ya,null),r.a.createElement(Ta,null,a))}var _a=t(485),wa=t(486),ka=t(487),Ua=t(488),Ia=t(489),Da=t(492),Na=t(493),Fa=t(494),Ga=t(495),Pa=t(496),Ba=t(497),Ma=t(504),Qa=t(498),Wa=t(505),qa=t(490),Za=t(491),Va=Object(te.a)((function(e){return{spacer:{margin:e.spacing(2,0)},delete:{color:e.palette.error.main,borderColor:e.palette.error.main,height:"max-content"}}}));function Ya(){var e=Va(),a=Object(M.j)().path,t=Object(n.useState)({page:1,limit:12}),c=Object(W.a)(t,2),l=c[0],i=c[1],s=Object(n.useState)(0),m=Object(W.a)(s,2),p=m[0],d=m[1],E=Object(n.useState)(!1),b=Object(W.a)(E,2),g=b[0],h=b[1],j=Object(n.useState)(l.term||""),y=Object(W.a)(j,2),C=y[0],S=y[1],A=Object(u.d)(),L=Object(u.e)((function(e){return e.articles})),T=L.items,R=L.paging,_=Object(n.useCallback)((function(e){return S(e.target.value)}),[]),w=Object(q.a)((function(){if(""!==C.trim())return i(Object(f.a)(Object(f.a)({},l),{},{term:C}));l.term;var e=Object(Q.a)(l,["term"]);i(e)}),1e3),k=Object(W.a)(w,1)[0],U=Object(n.useCallback)((function(e,a){return i(Object(f.a)(Object(f.a)({},l),{},{page:a+1}))}),[l]),I=Object(n.useCallback)((function(e){i(Object(f.a)(Object(f.a)({},l),{},{page:1,limit:parseInt(e.target.value)}))}),[l]),D=Object(n.useCallback)((function(e){return function(){return d(p===e?0:e)}}),[p]),N=Object(n.useCallback)((function(){var e;A((e=p,function(){var a=Object(v.a)(O.a.mark((function a(t){return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"app/articles/DELETE_ARTICLE_REQUEST"}),a.prev=1,a.next=4,o.a.delete("/articles/".concat(e));case 4:t({type:"app/articles/DELETE_ARTICLE_SUCCESS",payload:{id:e}}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(1),t({type:"app/articles/DELETE_ARTICLE_FAILURE"});case 10:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}())),h(!1)}),[A,p]);return Object(n.useEffect)((function(){A(x("?"+ce.a.stringify(l)))}),[A,l]),r.a.createElement("div",null,g&&r.a.createElement(_a.a,{open:g,onClose:function(){return h(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(wa.a,null,"Are you sure?"),r.a.createElement(ka.a,null,r.a.createElement(Ua.a,null,"Are you sure you want to delete this article?")),r.a.createElement(Ia.a,null,r.a.createElement(Se.a,{onClick:function(){return h(!1)},color:"primary"},"Cancel"),r.a.createElement(Se.a,{onClick:N,color:"primary",autoFocus:!0},"Delete"))),r.a.createElement(z.a,{display:"flex",justifyContent:"space-between"},r.a.createElement(V.a,{variant:"h5",component:"h1"},"Article List"),r.a.createElement(Se.a,{component:Re.a,to:"".concat(a,"/new"),variant:"contained",color:"primary",startIcon:r.a.createElement(qa.a,null)},"Add new article")),r.a.createElement(Y.a,{className:e.spacer},r.a.createElement(z.a,{display:"flex",justifyContent:"space-between",alignItems:"center",p:2},r.a.createElement(K.a,{container:!0,spacing:2,alignItems:"flex-end"},r.a.createElement(K.a,{item:!0},r.a.createElement(ne.a,null)),r.a.createElement(K.a,{item:!0},r.a.createElement(H.a,{label:"Search",value:C,onChange:_,onKeyUp:k}))),r.a.createElement(Se.a,{variant:"outlined",startIcon:r.a.createElement(Za.a,null),className:e.delete,disabled:0===p,onClick:function(){return h(!0)}},"Delete")),r.a.createElement(Da.a,null,r.a.createElement(Na.a,null,r.a.createElement(Fa.a,null,r.a.createElement(Ga.a,null,r.a.createElement(Pa.a,{padding:"checkbox"}),r.a.createElement(Pa.a,null,"Image"),r.a.createElement(Pa.a,null,"Title"),r.a.createElement(Pa.a,null,"Category"),r.a.createElement(Pa.a,null,"Actions"))),r.a.createElement(Ba.a,null,T.map((function(e){var t=e.id,n=t===p;return r.a.createElement(Ga.a,{key:t,selected:n,onClick:D(t)},r.a.createElement(Pa.a,{padding:"checkbox"},r.a.createElement(Ma.a,{checked:n})),r.a.createElement(Pa.a,{component:"th",scope:"row"},r.a.createElement(me.a,{variant:"square",src:e.image})),r.a.createElement(Pa.a,null,e.title),r.a.createElement(Pa.a,null,e.category.name),r.a.createElement(Pa.a,null,r.a.createElement(Qa.a,{size:"small",variant:"text",color:"primary"},r.a.createElement(Se.a,{component:Re.a,to:"".concat(a,"/").concat(t),underline:"none"},"View"),r.a.createElement(Se.a,{component:Re.a,to:"".concat(a,"/").concat(t,"/edit"),underline:"none"},"Edit"))))})))),r.a.createElement(Wa.a,{rowsPerPageOptions:[12,20,50],component:"div",count:(null===R||void 0===R?void 0:R.count)||0,rowsPerPage:(null===R||void 0===R?void 0:R.limit)||12,page:(null===R||void 0===R?void 0:R.page)?R.page-1:0,onChangePage:U,onChangeRowsPerPage:I}))))}var za=t(188),Ka=t.n(za),Ha=(t(321),Object(te.a)((function(e){return{root:{padding:e.spacing(2)},title:{marginBottom:e.spacing(2)},form:{"& > * + *":{marginTop:e.spacing(2)}},submitBtn:{display:"block",marginLeft:"auto"},toolbar:{"& .ql-toolbar":{backgroundColor:e.palette.grey[300]},"& .ql-editor":{minHeight:300},"& .ql-editor.ql-blank::before":{color:e.palette.grey[300]}},category:{width:"100%"}}})));function Xa(e){var a,t,c,l=e.type,i=e.article,o=e.title,s=e.submitText,m=e.onSubmit,p=Ha(),d=Object(u.d)(),E=Object(u.e)((function(e){return e.categories})).items,b={title:je.d().required(),excerpt:je.d().required(),body:je.d().required(),categoryId:je.b().positive().required()},g=Object(he.d)({mode:"onChange",defaultValues:{title:null===i||void 0===i?void 0:i.title,excerpt:null===i||void 0===i?void 0:i.excerpt,body:null===i||void 0===i?void 0:i.body,categoryId:null===i||void 0===i||null===(a=i.category)||void 0===a?void 0:a.id},resolver:Object(ye.a)(je.c().shape("CREATE"===l?Object(f.a)(Object(f.a)({},b),{},{image:je.a().test("image",(function(e){return e.length>0}))}):b))}),O=g.register,v=g.control,h=g.handleSubmit,j=g.setValue,y=g.getValues,C=g.errors,S=g.formState,A=S.isDirty,L=S.isValid,T=Object(n.useCallback)((function(e){return j("body",e,{shouldValidate:!0,shouldDirty:!0})}),[j]),x=Object(n.useCallback)((function(e){var a=e.image,t=Object(Q.a)(e,["image"]);return a.length>0?m(Object(f.a)(Object(f.a)({},t),{},{image:a[0]})):m(t)}),[m]);return Object(n.useEffect)((function(){d(k()),O({name:"body"})}),[d,O]),r.a.createElement(fe.a,{maxWidth:"md"},r.a.createElement(Y.a,{className:p.root},r.a.createElement(V.a,{variant:"h4",align:"center",component:"h1",className:p.title},o),r.a.createElement("form",{onSubmit:h(x)},r.a.createElement(K.a,{container:!0,spacing:2},r.a.createElement(K.a,{item:!0,xs:4},r.a.createElement(Le,{name:"image",innerRef:O,image:null===i||void 0===i?void 0:i.image,buttonText:"Change Image"})),r.a.createElement(K.a,{item:!0,xs:8},r.a.createElement("div",{className:p.form},r.a.createElement(H.a,{inputRef:O,variant:"outlined",label:"Title",placeholder:"Enter a title",name:"title",fullWidth:!0,helperText:(null===(t=C.title)||void 0===t?void 0:t.message)||"",error:Boolean(C.title)}),r.a.createElement(H.a,{inputRef:O,variant:"outlined",label:"Excerpt",placeholder:"Enter a excerpt",name:"excerpt",fullWidth:!0,multiline:!0,rows:3,helperText:(null===(c=C.excerpt)||void 0===c?void 0:c.message)||"",error:Boolean(C.excerpt)}),r.a.createElement(X.a,{variant:"outlined",className:p.category},r.a.createElement(J.a,null,"Category"),r.a.createElement(he.a,{as:$.a,name:"categoryId",label:"Category",control:v,defaultValue:""},E.map((function(e){var a=e.id,t=e.name;return r.a.createElement(ee.a,{key:a,value:a},t)}))))))),r.a.createElement(z.a,{my:2,className:p.toolbar},r.a.createElement(Ka.a,{theme:"snow",placeholder:"Enter body here...",value:y("body"),onChange:T})),r.a.createElement(Se.a,{type:"submit",variant:"contained",color:"primary",className:p.submitBtn,disabled:!L||!A},s))))}function Ja(){var e=Object(u.d)(),a=Object(n.useCallback)((function(a){return e(function(e){return function(){var a=Object(v.a)(O.a.mark((function a(t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:for(r in t({type:"app/articles/CREATE_ARTICLE_REQUEST"}),a.prev=1,n=new FormData,e)n.append(r,e[r]);return a.next=6,o.a.post("/articles",n,{headers:{"Content-Type":"multipart/form-data"}});case 6:t({type:"app/articles/CREATE_ARTICLE_SUCCESS"}),t(Object(h.d)("/admin/articles")),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),t({type:"app/articles/CREATE_ARTICLE_FAILURE"});case 13:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e){return a.apply(this,arguments)}}()}(a))}),[e]);return r.a.createElement(Xa,{type:"CREATE",title:"New Article",submitText:"Create",onSubmit:a})}function $a(){var e=Object(u.d)(),a=Object(M.i)().id,t=Object(u.e)((function(e){return e.articles})),c=t.isLoading,l=Object(W.a)(t.items,1)[0],i=Object(n.useCallback)((function(t){return e(function(e,a){return function(){var t=Object(v.a)(O.a.mark((function t(n){var r,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(c in n({type:"app/articles/UPDATE_ARTICLE_REQUEST"}),t.prev=1,r=new FormData,a)r.append(c,a[c]);return t.next=6,o.a.patch("/articles/".concat(e),r,{headers:{"Content-Type":"multipart/form-data"}});case 6:n({type:"app/articles/UPDATE_ARTICLE_SUCCESS"}),n(Object(h.d)("/admin/articles/".concat(e))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n({type:"app/articles/UPDATE_ARTICLE_FAILURE"});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}(a,t))}),[e,a]);return Object(n.useEffect)((function(){e(R(a))}),[e,a]),c||!l?null:r.a.createElement(Xa,{type:"EDIT",article:l,title:"Update Article",submitText:"Change",onSubmit:i})}function et(e){var a=e.children,t=e.roles,n=Object(Q.a)(e,["children","roles"]),c=Object(u.e)((function(e){return e.auth})),l=c.isLoading,i=c.isProfileLoaded,o=c.user;return r.a.createElement(M.b,Object.assign({},n,{render:function(){return i?l?null:o&&t.includes(o.role)?a:r.a.createElement(M.a,{to:"/"}):null}}))}var at=function(){var e=Object(M.j)().path;return r.a.createElement(M.d,null,r.a.createElement(et,{path:"".concat(e,"/new"),roles:[1,2]},r.a.createElement(Ja,null)),r.a.createElement(et,{path:"".concat(e,"/:id/edit"),roles:[1,2]},r.a.createElement($a,null)),r.a.createElement(et,{path:"".concat(e,"/:id"),roles:[1,2]},r.a.createElement(Oe,null)),r.a.createElement(et,{path:e,roles:[1,2]},r.a.createElement(Ya,null)))};function tt(e){var a=e.roles,t=e.children,n=Object(u.e)((function(e){return e.auth})),r=n.isLoading,c=n.isProfileLoaded,l=n.user;return c?r?null:l&&a.includes(l.role)?t:null:null}var nt=Object(n.forwardRef)((function(e,a){var t=e.roles,n=Object(Q.a)(e,["roles"]);return r.a.createElement(tt,{roles:t},r.a.createElement(Re.a,Object.assign({},n,{ref:a})))})),rt=Object(te.a)((function(e){return{spacer:{margin:e.spacing(2,0)},delete:{marginLeft:"auto",color:e.palette.error.main,borderColor:e.palette.error.main,height:"max-content"}}}));function ct(){var e=rt(),a=Object(M.j)().path,t=Object(n.useState)(0),c=Object(W.a)(t,2),l=c[0],i=c[1],s=Object(n.useState)(!1),m=Object(W.a)(s,2),p=m[0],d=m[1],E=Object(u.d)(),b=Object(u.e)((function(e){return e.categories})).items,f=function(e){return function(){return i(l===e?0:e)}},g=Object(n.useCallback)((function(){var e;E((e=l,function(){var a=Object(v.a)(O.a.mark((function a(t){return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"app/categories/DELETE_CATEGORY_REQUEST"}),a.prev=1,a.next=4,o.a.delete("/categories/".concat(e));case 4:t({type:"app/categories/DELETE_CATEGORY_SUCCESS",payload:{id:e}}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(1),t({type:"app/categories/DELETE_CATEGORY_FAILURE"});case 10:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}())),d(!1)}),[E,l]);return Object(n.useEffect)((function(){E(k())}),[E]),r.a.createElement("div",null,p&&r.a.createElement(_a.a,{open:p,onClose:function(){return d(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(wa.a,null,"Are you sure?"),r.a.createElement(ka.a,null,r.a.createElement(Ua.a,null,"Are you sure you want to delete this category?")),r.a.createElement(Ia.a,null,r.a.createElement(Se.a,{onClick:function(){return d(!1)},color:"primary"},"Cancel"),r.a.createElement(Se.a,{onClick:g,color:"primary",autoFocus:!0},"Delete"))),r.a.createElement(z.a,{display:"flex",justifyContent:"space-between"},r.a.createElement(V.a,{variant:"h5",component:"h1"},"Category List"),r.a.createElement(Se.a,{component:nt,roles:[1],to:"".concat(a,"/new"),variant:"contained",color:"primary",startIcon:r.a.createElement(qa.a,null)},"Add new category")),r.a.createElement(Y.a,{className:e.spacer},r.a.createElement(z.a,{display:"flex",justifyContent:"space-between",alignItems:"center",p:2},r.a.createElement(tt,{roles:[1]},r.a.createElement(Se.a,{variant:"outlined",startIcon:r.a.createElement(Za.a,null),className:e.delete,disabled:0===l,onClick:function(){return d(!0)}},"Delete"))),r.a.createElement(Da.a,null,r.a.createElement(Na.a,null,r.a.createElement(Fa.a,null,r.a.createElement(Ga.a,null,r.a.createElement(tt,{roles:[1]},r.a.createElement(Pa.a,{padding:"checkbox"})),r.a.createElement(Pa.a,null,"Name"),r.a.createElement(Pa.a,null,"Desc"),r.a.createElement(Pa.a,null,"Actions"))),r.a.createElement(Ba.a,null,b.map((function(e){var t=e.id,n=t===l;return r.a.createElement(Ga.a,{key:t,selected:n,onClick:f(t)},r.a.createElement(tt,{roles:[1]},r.a.createElement(Pa.a,{padding:"checkbox"},r.a.createElement(Ma.a,{checked:n}))),r.a.createElement(Pa.a,null,e.name),r.a.createElement(Pa.a,null,e.desc),r.a.createElement(Pa.a,null,r.a.createElement(Qa.a,{size:"small",variant:"text",color:"primary"},r.a.createElement(Se.a,{component:Re.a,to:"".concat(a,"/").concat(t),underline:"none"},"View"),r.a.createElement(Se.a,{component:nt,roles:[1],to:"".concat(a,"/").concat(t,"/edit"),underline:"none"},"Edit"))))})))))))}var lt=Object(te.a)((function(e){return{root:{padding:e.spacing(2)},title:{marginBottom:e.spacing(2)},form:{"& > * + *":{marginTop:e.spacing(2)}},submitBtn:{display:"block",marginLeft:"auto",marginTop:e.spacing(2)},category:{width:"100%"}}}));function it(e){e.type;var a,t,n=e.category,c=e.title,l=e.submitText,i=e.onSubmit,o=lt(),u=Object(he.d)({mode:"onChange",defaultValues:{name:null===n||void 0===n?void 0:n.name,desc:null===n||void 0===n?void 0:n.desc},resolver:Object(ye.a)(je.c().shape({name:je.d().required(),desc:je.d().required()}))}),s=u.register,m=u.handleSubmit,p=u.errors,d=u.formState,E=d.isDirty,b=d.isValid;return r.a.createElement(fe.a,{maxWidth:"md"},r.a.createElement(Y.a,{className:o.root},r.a.createElement(V.a,{variant:"h4",align:"center",component:"h1",className:o.title},c),r.a.createElement("form",{onSubmit:m(i)},r.a.createElement("div",{className:o.form},r.a.createElement(H.a,{inputRef:s,variant:"outlined",label:"Name",placeholder:"Enter a name",name:"name",fullWidth:!0,helperText:(null===(a=p.name)||void 0===a?void 0:a.message)||"",error:Boolean(p.name)}),r.a.createElement(H.a,{inputRef:s,variant:"outlined",label:"Description",placeholder:"Enter a description",name:"desc",fullWidth:!0,multiline:!0,rows:3,helperText:(null===(t=p.desc)||void 0===t?void 0:t.message)||"",error:Boolean(p.desc)})),r.a.createElement(Se.a,{type:"submit",variant:"contained",color:"primary",className:o.submitBtn,disabled:!b||!E},l))))}function ot(){var e=Object(u.d)(),a=Object(n.useCallback)((function(a){return e(function(e){return function(){var a=Object(v.a)(O.a.mark((function a(t){return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"app/categories/CREATE_CATEGORY_REQUEST"}),a.prev=1,a.next=4,o.a.post("/categories",e);case 4:t({type:"app/categories/CREATE_CATEGORY_SUCCESS"}),t(Object(h.d)("/admin/categories")),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),t({type:"app/categories/CREATE_CATEGORY_FAILURE"});case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}()}(a))}),[e]);return r.a.createElement(it,{type:"CREATE",title:"New Category",submitText:"Create",onSubmit:a})}function ut(){var e=Object(u.d)(),a=Object(M.i)().id,t=Object(u.e)((function(e){return e.categories})),c=t.isLoading,l=Object(W.a)(t.items,1)[0],i=Object(n.useCallback)((function(t){return e(function(e,a){return function(){var t=Object(v.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"app/categories/UPDATE_CATEGORY_REQUEST"}),t.prev=1,t.next=4,o.a.patch("/categories/".concat(e),a);case 4:n({type:"app/categories/UPDATE_CATEGORY_SUCCESS"}),n(Object(h.d)("/admin/categories/".concat(e))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n({type:"app/categories/UPDATE_CATEGORY_FAILURE"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}(a,t))}),[e,a]);return Object(n.useEffect)((function(){e(U(a))}),[e,a]),c||!l?null:r.a.createElement(it,{type:"EDIT",category:l,title:"Update Category",submitText:"Change",onSubmit:i})}function st(){var e=Object(u.d)(),a=Object(M.i)().id,t=Object(u.e)((function(e){return e.categories})),c=t.isLoading,l=Object(W.a)(t.items,1)[0];return Object(n.useEffect)((function(){e(U(a))}),[e,a]),c?null:r.a.createElement(fe.a,{maxWidth:"md"},r.a.createElement(V.a,{variant:"h6",component:"h1"},null===l||void 0===l?void 0:l.name),r.a.createElement(V.a,{variant:"body1"},null===l||void 0===l?void 0:l.desc))}var mt=function(){var e=Object(M.j)().path;return r.a.createElement(M.d,null,r.a.createElement(et,{path:"".concat(e,"/new"),roles:[1]},r.a.createElement(ot,null)),r.a.createElement(et,{path:"".concat(e,"/:id/edit"),roles:[1]},r.a.createElement(ut,null)),r.a.createElement(et,{path:"".concat(e,"/:id"),roles:[1]},r.a.createElement(st,null)),r.a.createElement(et,{path:e,roles:[0,1]},r.a.createElement(ct,null)))},pt=Object(te.a)((function(e){return{spacer:{margin:e.spacing(2,0)},delete:{color:e.palette.error.main,borderColor:e.palette.error.main,height:"max-content"}}})),dt={Admin:"primary",Editor:"secondary",Member:"default"};function Et(){var e=pt(),a=Object(M.j)().path,t=Object(n.useState)({page:1,limit:12}),c=Object(W.a)(t,2),l=c[0],i=c[1],s=Object(n.useState)(0),m=Object(W.a)(s,2),p=m[0],d=m[1],E=Object(n.useState)(!1),b=Object(W.a)(E,2),g=b[0],h=b[1],j=Object(n.useState)(l.term||""),y=Object(W.a)(j,2),C=y[0],S=y[1],A=Object(u.d)(),L=Object(u.e)((function(e){return e.users})),T=L.items,x=L.paging,R=Object(n.useCallback)((function(e){return S(e.target.value)}),[]),_=Object(q.a)((function(){if(""!==C.trim())return i(Object(f.a)(Object(f.a)({},l),{},{term:C}));l.term;var e=Object(Q.a)(l,["term"]);i(e)}),1e3),w=Object(W.a)(_,1)[0],k=function(e){return function(){return d(p===e?0:e)}},U=Object(n.useCallback)((function(){var e;A((e=p,function(){var a=Object(v.a)(O.a.mark((function a(t){return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"app/users/DELETE_USER_REQUEST"}),a.prev=1,a.next=4,o.a.delete("/users/".concat(e));case 4:t({type:"app/users/DELETE_USER_SUCCESS",payload:{id:e}}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(1),t({type:"app/users/DELETE_USER_FAILURE"});case 10:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}())),h(!1)}),[A,p]);return Object(n.useEffect)((function(){A(function(e){return function(){var a=Object(v.a)(O.a.mark((function a(t){var n,r;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"app/users/LOAD_USERS_REQUEST"}),a.prev=1,a.next=4,o.a.get("/users".concat(e));case 4:n=a.sent,r=n.data.users,t({type:"app/users/LOAD_USERS_SUCCESS",payload:r}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),t({type:"app/users/LOAD_USERS_FAILURE"});case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}("?"+ce.a.stringify(l)))}),[A,l]),r.a.createElement("div",null,g&&r.a.createElement(_a.a,{open:g,onClose:function(){return h(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(wa.a,null,"Are you sure?"),r.a.createElement(ka.a,null,r.a.createElement(Ua.a,null,"Are you sure you want to delete this user?")),r.a.createElement(Ia.a,null,r.a.createElement(Se.a,{onClick:function(){return h(!1)},color:"primary"},"Cancel"),r.a.createElement(Se.a,{onClick:U,color:"primary",autoFocus:!0},"Delete"))),r.a.createElement(z.a,{display:"flex",justifyContent:"space-between"},r.a.createElement(V.a,{variant:"h5",component:"h1"},"User List")),r.a.createElement(Y.a,{className:e.spacer},r.a.createElement(z.a,{display:"flex",justifyContent:"space-between",alignItems:"center",p:2},r.a.createElement(K.a,{container:!0,spacing:2,alignItems:"flex-end"},r.a.createElement(K.a,{item:!0},r.a.createElement(ne.a,null)),r.a.createElement(K.a,{item:!0},r.a.createElement(H.a,{label:"Search",value:C,onChange:R,onKeyUp:w}))),r.a.createElement(tt,{roles:[1]},r.a.createElement(Se.a,{variant:"outlined",startIcon:r.a.createElement(Za.a,null),className:e.delete,disabled:0===p,onClick:function(){return h(!0)}},"Delete"))),r.a.createElement(Da.a,null,r.a.createElement(Na.a,null,r.a.createElement(Fa.a,null,r.a.createElement(Ga.a,null,r.a.createElement(tt,{roles:[1]},r.a.createElement(Pa.a,{padding:"checkbox"})),r.a.createElement(Pa.a,null,"Avatar"),r.a.createElement(Pa.a,null,"Name"),r.a.createElement(Pa.a,null,"Role"),r.a.createElement(Pa.a,null,"Actions"))),r.a.createElement(Ba.a,null,T.map((function(e){var t=e.id,n=e.role,c=e.name,l=e.avatar,i=t===p;return r.a.createElement(Ga.a,{key:t,selected:i,onClick:k(t)},r.a.createElement(tt,{roles:[1]},r.a.createElement(Pa.a,{padding:"checkbox"},r.a.createElement(Ma.a,{checked:i}))),r.a.createElement(Pa.a,{component:"th",scope:"row"},r.a.createElement(me.a,{variant:"square",src:l})),r.a.createElement(Pa.a,null,c),r.a.createElement(Pa.a,null,r.a.createElement(se.a,{label:n,color:dt[n],size:"small"})),r.a.createElement(Pa.a,null,r.a.createElement(Qa.a,{size:"small",variant:"text",color:"primary"},r.a.createElement(Se.a,{component:nt,roles:[1],to:"".concat(a,"/").concat(t),underline:"none"},"View"),r.a.createElement(Se.a,{component:nt,roles:[1],to:"".concat(a,"/").concat(t,"/edit"),underline:"none"},"Edit"))))})))),r.a.createElement(Wa.a,{rowsPerPageOptions:[12,20,50],component:"div",count:(null===x||void 0===x?void 0:x.count)||0,rowsPerPage:(null===x||void 0===x?void 0:x.limit)||12,page:(null===x||void 0===x?void 0:x.page)?x.page-1:0,onChangePage:function(e,a){return i(Object(f.a)(Object(f.a)({},l),{},{page:a+1}))},onChangeRowsPerPage:function(e){i(Object(f.a)(Object(f.a)({},l),{},{page:1,limit:parseInt(e.target.value)}))}}))))}var bt=Object(te.a)((function(e){return{root:{padding:e.spacing(2)},title:{marginBottom:e.spacing(2)},form:{"& > * + *":{marginTop:e.spacing(2)}},submitBtn:{display:"block",marginLeft:"auto",marginTop:e.spacing(2)},role:{width:"100%"}}}));function ft(e){e.type;var a,t,c=e.user,l=e.title,i=e.submitText,o=e.onSubmit,u=bt(),s=Object(he.d)({mode:"onChange",defaultValues:{name:null===c||void 0===c?void 0:c.name,email:null===c||void 0===c?void 0:c.email,role:null===c||void 0===c?void 0:c.role},resolver:Object(ye.a)(je.c().shape({name:je.d().required(),email:je.d().email().required(),role:je.a().oneOf([0,1,2]).required()}))}),m=s.register,p=s.control,d=s.handleSubmit,E=s.errors,b=s.formState,g=b.isDirty,O=b.isValid,v=Object(n.useCallback)((function(e){var a=e.avatar,t=Object(Q.a)(e,["avatar"]);return a.length>0?o(Object(f.a)(Object(f.a)({},t),{},{avatar:a[0]})):o(t)}),[o]);return r.a.createElement(fe.a,{maxWidth:"md"},r.a.createElement(Y.a,{className:u.root},r.a.createElement(V.a,{variant:"h4",align:"center",component:"h1",className:u.title},l),r.a.createElement("form",{onSubmit:d(v)},r.a.createElement(K.a,{container:!0,spacing:2},r.a.createElement(K.a,{item:!0,xs:4},r.a.createElement(Le,{name:"avatar",innerRef:m,image:null===c||void 0===c?void 0:c.avatar,buttonText:"Change Avatar"})),r.a.createElement(K.a,{item:!0,xs:8},r.a.createElement("div",{className:u.form},r.a.createElement(H.a,{inputRef:m,variant:"outlined",label:"Name",placeholder:"Enter a name",name:"name",fullWidth:!0,helperText:(null===(a=E.name)||void 0===a?void 0:a.message)||"",error:Boolean(E.name)}),r.a.createElement(H.a,{type:"email",inputRef:m,variant:"outlined",label:"Email",placeholder:"Enter a email",name:"email",fullWidth:!0,helperText:(null===(t=E.email)||void 0===t?void 0:t.message)||"",error:Boolean(E.email)}),r.a.createElement(X.a,{variant:"outlined",className:u.role},r.a.createElement(J.a,null,"Role"),r.a.createElement(he.a,{as:$.a,name:"role",label:"Role",control:p,defaultValue:""},r.a.createElement(ee.a,{value:"0"},"Admin"),r.a.createElement(ee.a,{value:"1"},"Editor"),r.a.createElement(ee.a,{value:"2"},"Member")))))),r.a.createElement(Se.a,{type:"submit",variant:"contained",color:"primary",className:u.submitBtn,disabled:!O||!g},i))))}function gt(){var e=Object(u.d)(),a=Object(M.i)().id,t=Object(u.e)((function(e){return e.users})),c=t.isLoading,l=Object(W.a)(t.items,1)[0],i=Object(n.useCallback)((function(t){return e(function(e,a){return function(){var t=Object(v.a)(O.a.mark((function t(n){var r,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(c in n({type:"app/users/UPDATE_USER_REQUEST"}),t.prev=1,r=new FormData,a)r.append(c,a[c]);return t.next=6,o.a.patch("/users/".concat(e),r,{headers:{"Content-Type":"multipart/form-data"}});case 6:n({type:"app/users/UPDATE_USER_SUCCESS"}),n(Object(h.d)("/admin/users/".concat(e))),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),n({type:"app/users/UPDATE_USER_FAILURE"});case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}(a,t))}),[e,a]);return Object(n.useEffect)((function(){e(N(a))}),[e,a]),c||!l?null:r.a.createElement(ft,{type:"EDIT",user:l,title:"Update User",submitText:"Change",onSubmit:i})}var Ot=Object(te.a)((function(e){return{title:{marginLeft:e.spacing(2)},role:{marginLeft:e.spacing(2)}}}));function vt(){var e=Ot(),a=Object(u.d)(),t=Object(M.i)().id,c=Object(u.e)((function(e){return e.users})),l=c.isLoading,i=Object(W.a)(c.items,1)[0];return Object(n.useEffect)((function(){a(N(t))}),[a,t]),l?null:(console.log(i),r.a.createElement(fe.a,{maxWidth:"md"},r.a.createElement(z.a,{display:"flex",alignItems:"center"},r.a.createElement(me.a,{src:null===i||void 0===i?void 0:i.avatar}),r.a.createElement("div",{className:e.title},r.a.createElement(V.a,{variant:"h6",component:"h1"},null===i||void 0===i?void 0:i.name),r.a.createElement(z.a,{display:"flex"},r.a.createElement(V.a,{variant:"body1"},null===i||void 0===i?void 0:i.email),r.a.createElement(se.a,{label:null===i||void 0===i?void 0:i.role,size:"small",className:e.role}))))))}var ht=function(){var e=Object(M.j)().path;return r.a.createElement(M.d,null,r.a.createElement(et,{path:"".concat(e,"/:id/edit"),roles:[1]},r.a.createElement(gt,null)),r.a.createElement(et,{path:"".concat(e,"/:id"),roles:[1]},r.a.createElement(vt,null)),r.a.createElement(et,{path:e,roles:[1]},r.a.createElement(Et,null)))},jt=t(499),yt=t(500),Ct=t(116),St=t(189),At=Object(te.a)((function(e){return{summaryCard:{display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(2)},summaryTitle:{margin:e.spacing(2,0)},chart:{"& canvas":{maxWidth:"100%"}}}}));function Lt(){var e=At(),a=Object(n.useState)(null),t=Object(W.a)(a,2),c=t[0],l=t[1],i=Object(n.useCallback)(Object(v.a)(O.a.mark((function e(){var a,t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/dashboard");case 2:a=e.sent,t=a.data.dashboard,l(t);case 5:case"end":return e.stop()}}),e)}))),[]);if(Object(n.useEffect)((function(){i()}),[i]),!c)return null;var u=c.usersCount[0].count+c.usersCount[1].count;return r.a.createElement(K.a,{container:!0,spacing:2},r.a.createElement(K.a,{item:!0,xs:12,lg:6},r.a.createElement(K.a,{container:!0,spacing:2},r.a.createElement(K.a,{item:!0,xs:!0},r.a.createElement(Y.a,{className:e.summaryCard},r.a.createElement(Oa.a,{color:"primary",fontSize:"large"}),r.a.createElement(V.a,{variant:"body1",className:e.summaryTitle},"Users"),r.a.createElement(V.a,{variant:"h5",color:"primary"},u))),r.a.createElement(K.a,{item:!0,xs:!0},r.a.createElement(Y.a,{className:e.summaryCard},r.a.createElement(va.a,{color:"primary",fontSize:"large"}),r.a.createElement(V.a,{variant:"body1",className:e.summaryTitle},"Categories"),r.a.createElement(V.a,{variant:"h5",color:"primary"},c.categoriesCount))),r.a.createElement(K.a,{item:!0,xs:!0},r.a.createElement(Y.a,{className:e.summaryCard},r.a.createElement(ha.a,{color:"primary",fontSize:"large"}),r.a.createElement(V.a,{variant:"body1",className:e.summaryTitle},"Articles"),r.a.createElement(V.a,{variant:"h5",color:"primary"},c.articlesCount)))),r.a.createElement(Y.a,null,r.a.createElement(z.a,{display:"flex",justifyContent:"center",p:2,my:2,className:e.chart},r.a.createElement(St.a,{options:{legend:{labels:{fontColor:Ct.a[500]}}},data:{datasets:[{data:c.usersCount.map((function(e){return e.count})),backgroundColor:["#FF6384","#36A2EB","#FFCE56"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56"]}],labels:c.usersCount.map((function(e){return e.role}))}})))),r.a.createElement(K.a,{item:!0,xs:12,lg:6},r.a.createElement(Y.a,null,r.a.createElement(da.a,{subheader:r.a.createElement(jt.a,null,"Latest Articles")},c.latestArticles.map((function(e){return r.a.createElement(Ea.a,{key:e.id,button:!0},r.a.createElement(yt.a,null,r.a.createElement(me.a,{src:e.image})),r.a.createElement(fa.a,{primary:e.title,secondary:e.excerpt}))}))))))}var Tt=function(){var e=Object(M.j)().path;return r.a.createElement(M.d,null,r.a.createElement(et,{path:e,roles:[1]},r.a.createElement(Lt,null)))};function xt(){var e=Object(M.j)().path;return r.a.createElement(Ra,null,r.a.createElement(M.d,null,r.a.createElement(M.b,{path:"".concat(e,"/dashboard")},r.a.createElement(Tt,null)),r.a.createElement(M.b,{path:"".concat(e,"/users")},r.a.createElement(ht,null)),r.a.createElement(M.b,{path:"".concat(e,"/articles")},r.a.createElement(at,null)),r.a.createElement(M.b,{path:"".concat(e,"/categories")},r.a.createElement(mt,null)),r.a.createElement(M.b,null,r.a.createElement(M.a,{to:"".concat(e,"/dashboard")}))))}function Rt(){return r.a.createElement(M.d,null,r.a.createElement(M.b,{path:"/admin"},r.a.createElement(xt,null)),r.a.createElement(M.b,null,r.a.createElement(la,null)))}var _t=B();function wt(){return r.a.createElement(u.a,{store:_t},r.a.createElement(s.a,{history:P},r.a.createElement(Rt,null)))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.defaults.baseURL="http://127.0.0.1:5000/api/v1",l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(wt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[210,1,2]]]);
//# sourceMappingURL=main.c84c9531.chunk.js.map